<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.2.min.css" />
        <title>Hello World</title>
    </head>
    <body>
		<!--Main page-->
		<div data-role="page" id="main">
			<div data-role="header">
				<h2>Contacts</h2>
			</div>
			<div data-role="content">
				<a href="#add" data-rel="button" onClick="chooseAction('')" class="ui-input-btn ui-btn ui-btn-inline">
					Add contact</a>
				<script id="list-template" type="text/x-handlebars-template">
					{{#list l_contacts}}{{name}}{{/list}}
				</script>
			</div>
			<div data-role="footer">
			</div><!-- /footer -->
		</div>
		<!--/Main page-->
		<!--Add contact page-->
		<div data-role="page" id="mod">
			<div data-role="header">
				<h1>Add new contact</h1>
			</div>
			<div data-role="content">
				<script id="mod-template" type="text/x-handlebars-template">
					{{#m_temp}}
					<div class="ui-field-contain">
						<label for="name">Name</label>
						<input type="text" name="name" id="name" value="" />
					</div>
					<div class="ui-field-contain">
						<label for="number">Phone number</label>
						<input type="text" name="number" id="number" value="" />
					</div>
					<div class="ui-field-contain">
						<label for="email">Email address</label>
						<input type="text" name="email" id="email" value="" />
					</div>
					<input id="modcon" value="{{b_txt}}" class="ui-input-btn ui-btn ui-btn-inline" />
					{{/m_temp}}
				<script>
			</div>
			<a href="#main" data-role="button" class="ui-input-btn ui-btn ui-btn-inline">
				Back</a>
			<div data-role="footer">
			</div><!-- /footer -->
		</div>
		<!--/Add contact page-->
		<!--View contact page-->
		<div data-role="page" id="view">
			<script id="view-template" type="text/x-handlebars-template">
				{{#contact}}
				<div data-role="header">
					<h1>{{name}}</h2>
				</div>
				<div data-role="content">
					<div class="ui-field-contain">
						<label for="number">Phone number</label>
						<h2>{{number}}</h2>
					</div>
					<div class="ui-field-contain">
						<label for="email">Email address</label>
						<h2>{{email}}</h2>
					</div>
					<input id="addnew" value="Add new contact" class="ui-input-btn ui-btn ui-btn-inline" />
					<a href="{{tel}}" data-role="button" class="ui-input-btn ui-btn ui-btn-inline">
						Call contact</a>
					<a href="{{mailto}}" data-role="button" class="ui-input-btn ui-btn ui-btn-inline">
						Email contact</a>
					<input id="modcon" value="Modify contact" name="{{name}}" onClick="chooseAction(this.name)" class="ui-input-btn ui-btn ui-btn-inline" />
					<input id="modcon" value="Delete contact" name="{{name}}" onClick="deleteContact(this.name)" class="ui-input-btn ui-btn ui-btn-inline" />
					{{/contact}}
				</script>
			</div>
			<a href="#main" data-role="button" class="ui-input-btn ui-btn ui-btn-inline">
				Back</a>
			<div data-role="footer">
			</div><!-- /footer -->
		</div>
		<!--/View contact page-->
		<script type="text/javascript" src="cordova_plugins.js"></script>
		<script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/libs/jquery.mobile-1.4.2.min.js"></script>
        <script type="text/javascript" src="js/libs/underscore-min.js"></script>
        <script type="text/javascript" src="js/libs/backbone-min.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
        <script type="text/javascript" src="js/scripts/globalVars.js"></script>
        <script type="text/javascript" charset="utf-8">
			document.addEventListener("deviceready", onDeviceReady, false);
			function onDeviceReady() {
				db.transaction(function(transaction){
				transaction.executeSql("CREATE TABLE IF NOT EXISTS Contacts(number TEXT, name TEXT PRIMARY KEY, email TEXT)");
			}
		</script>
		<script type="text/javascript" src="js/scripts/addContact.js"></script>
		<script type="text/javascript" src="js/scripts/viewContact.js"></script>
		<script type="text/javascript" src="js/scripts/main.js"></script>
    </body>
</html>
